(function(p){"object"===typeof exports&&"undefined"!==typeof module?module.exports=p():"function"===typeof define&&define.amd?define([],p):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).Week=p()})(function(){return function m(l,n,g){function c(d,e){if(!n[d]){if(!l[d]){var h="function"==typeof require&&require;if(!e&&h)return h(d,!0);if(f)return f(d,!0);h=Error("Cannot find module '"+d+"'");throw h.code="MODULE_NOT_FOUND",h;}h=n[d]={exports:{}};
l[d][0].call(h.exports,function(a){var b=l[d][1][a];return c(b?b:a)},h,h.exports,m,l,n,g)}return n[d].exports}for(var f="function"==typeof require&&require,e=0;e<g.length;e++)c(g[e]);return c}({1:[function(m,l,n){l.exports=function(){function g(a){var b=~~(a/60),c=12<=b?"PM":"AM";return((b%=12)?b:12)+":"+("0"+~~a%60).slice(-2)+c}function c(a){var b={};a.forEach(function(a){for(var c=0;;){b[c]=b[c]||-1;if(b[c]<=a.start){b[c]=a.end;a.column=c;break}c++}})}function f(a){a.forEach(function(b){b.neighbors=
[];var c=[];a.forEach(function(a){b!==a&&(b.start<=a.start&&a.start<b.end||a.start<=b.start&&b.start<a.end)&&(b.neighbors.push(a),-1===c.indexOf(a.column)&&c.push(a.column))});b.columnSize=c.length})}function e(a){function b(a){a.columnSize>d.columnSize&&(d.columnSize=a.columnSize,Array.prototype.push.apply(c,d.neighbors))}for(var c=a.slice(),d;void 0!==(d=c.shift());)d.neighbors.forEach(b)}function d(a){a.sort(function(a,c){return a.start-c.start||c.end-a.end});c(a);f(a);e(a)}function k(a,b){this.week=
a;this.events=[];this.$title=h("div",{class:"title",_text:"div",text:b});this.$events=h("div",{class:"events"});this.$=h("div",{class:"column day"});this.$.append(this.$title,this.$events)}var h=m("./Element");k.prototype.addEvent=function(a){clearTimeout(this.renderTO);var b=Object.create(a);b.$=h("div",{class:"event"});b.$time=h("div",{class:"time",text:a.name});b.$name=h("div",{class:"name",text:g(a.start)+" ~ "+g(a.end)});"string"===typeof b.color&&(b.$._.style.backgroundColor=b.color);b.$.append(b.$time,
b.$name);this.events.push(b);this.renderTO=setTimeout(this.render.bind(this),50)};k.prototype.removeEvent=function(a){clearTimeout(this.renderTO);for(var b=0;b<this.events.length;b++)if(a.isPrototypeOf(this.events[b])){this.events.splice(b,1)[0].$.remove();break}this.renderTO=setTimeout(this.render.bind(this),50)};k.prototype.renderEvent=function(a){a.columnSize++;var b=(a.end-a.start)/(this.week.end-this.week.start)*100;a.$._.style.top=(a.start-this.week.start)/(this.week.end-this.week.start)*100+
"%";a.$._.style.height=b+"%";a.$._.style.width=100/a.columnSize+"%";a.$._.style.left=a.column/a.columnSize*100+"%"};k.prototype.render=function(){var a=this;d(this.events);this.events.forEach(function(b){a.renderEvent(b);a.$events.append(b.$)})};return k}()},{"./Element":2}],2:[function(m,l,n){l.exports=function(){function g(){}g.prototype.addClass=function(c){c=c.split(" ");for(var f=0;f<c.length;f++)c[f]&&(this._.classList?this._.classList.add(c[f]):this._.className=c[f]);return this};g.prototype.removeClass=
function(c){this._.classList?this._.classList.remove(c):this._.className=this._.className.replace(new RegExp("(^|\\b)"+c.split(" ").join("|")+"(\\b|$)","gi")," ");return this};g.prototype.hide=function(){"none"!==this._.style.display&&(this._.style.display="none");return this};g.prototype.show=function(){"block"!==this._.style.display&&(this._.style.display="block");return this};g.prototype.on=function(c,f,e){e=!!e;c=c.split(" ");for(var d=0,g=c.length;d<g;d++)this._.addEventListener(c[d],f,e);return this};
g.prototype.off=function(c,f){c=c.split(" ");for(var e=0,d=c.length;e<d;e++)this._.removeEventListener(c[e],f);return this};g.prototype.one=function(c,f){var e=this;return this.on(c,function k(){e.off(c,k);f.apply(this,[].slice.apply(arguments))})};g.prototype.append=function(c){for(var f=c instanceof Array?c:arguments,e=0,d=f.length;e<d;e++)this._.appendChild(f[e]instanceof g?f[e]._:f[e]);return this};g.prototype.text=function(c){this._text?this._text.textContent=c:this._.textContent=c;return this};
g.prototype.attr=function(c,f){if("string"!==typeof c)throw Error("An attribute name is required");if("string"!==typeof f)return this._.getAttribute(c);this._.setAttribute(c,f);return this};g.prototype.remove=function(){if(this._.parentNode)return this._.parentNode.removeChild(this._),this};return function(c,f){var e=new g;if("string"===typeof c){if(e._=document.createElement(c),"object"===typeof f){var d=Object.create(f);"string"===typeof d._text&&(e._text=document.createElement(d._text),e._.appendChild(e._text));
"string"===typeof d.text&&e.text(d.text);"string"===typeof d.html&&(e._.innerHTML=d.html);"string"===typeof d.class&&e.addClass(d.class);for(var k in d)d[k]&&e._.setAttribute(k,d[k])}}else e._=c;return e}}()},{}],3:[function(m,l,n){l.exports=function(){function g(a){var b=~~(a/60),c=12<=b?"PM":"AM";return((b%=12)?b:12)+":"+("0"+~~a%60).slice(-2)+c}function c(){function a(a){b.grids._.offsetTop>a.pageY-b.$._.offsetTop||(b.tracker._.style.top=b.trackerLabel._.style.top=a.pageY-b.$._.offsetTop+"px",
b.trackerLabel._.style.left=a.pageX-b.$._.offsetLeft+"px",b.trackerLabel.text(g((a.pageY-b.$._.offsetTop-b.grids._.offsetTop)/b.grids._.offsetHeight*(b.end-b.start)+b.start)))}this.tracker=k("hr",{class:"tracker"});this.tracker.hide();this.trackerLabel=k("div",{class:"trackerLabel"});this.trackerLabel.hide();this.$.append(this.tracker,this.trackerLabel);var b=this;this.$.on("mouseenter",function(c){b.tracker.show();b.trackerLabel.show();b.$.on("mousemove",a).on("mouseleave",function q(){b.$.off("mouseleave",
q).off("mousemove",a);b.tracker.hide();b.trackerLabel.hide()})})}function f(){this.grids=k("div",{class:"grid"});this.$.append(this.grids);for(var a=this.start+60;a<this.end;a+=60){var b=document.createElement("hr");b.style.top=(a-this.start)/(this.end-this.start)*100+"%";this.grids.append(b)}}function e(a){a=new h(this,a);this.days.push(a);this.$.append(a.$)}function d(){this.start=540;this.end=1320;this.$=k("div",{class:"week columns"});f.apply(this);c.apply(this);this.days=[];this.events=[];var a=
this;"Sun Mon Tues Wednes Thurs Fri Satur".split(" ").forEach(function(b){e.apply(a,[b+"day"])})}var k=m("./Element"),h=m("./Day");d.prototype.appendTo=function(a){a.appendChild(this.$._);return this};d.prototype.remove=function(){this.$.remove();return this};d.prototype.addEvent=function(a){if(a.day){if(a.day instanceof Array)for(var b=0;b<a.day.length;b++)this.days[a.day[b]].addEvent(a);else this.days[a.day].addEvent(a);this.events.push(a);return this}};d.prototype.removeEvent=function(a){if(a.day instanceof
Array)for(var b=0;b<a.day.length;b++)this.days[a.day[b]].removeEvent(a);else this.days[a.day].removeEvent(a);a=this.events.indexOf(a);-1!==a&&this.events.splice(a,1);return this};return d}()},{"./Day":1,"./Element":2}]},{},[3])(3)});
